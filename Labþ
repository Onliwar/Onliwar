import unittest
from coinbaseloader import CoinBaseLoader

class TestCoinBaseLoader(unittest.TestCase):
    def setUp(self):
        self.loader = CoinBaseLoader()

    def test_load_data(self):
        data = self.loader.load_data('BTC')
        self.assertIsNotNone(data)
        self.assertIn('price', data)
        self.assertIn('volume_24h', data)
    
    def test_error_handling(self):
        with self.assertRaises(ValueError):
            self.loader.load_data('INVALID')
    
    @unittest.skip("Потрібно активне з'єднання з мережею")
    @unittest.expectedFailure
    def test_parameterized_load(self, currency):
        data = self.loader.load_data(currency)
        self.assertIsNotNone(data)
        self.assertIn('price', data)
        self.assertIn('volume_24h', data)

if __name__ == '__main__':
    unittest.main()
